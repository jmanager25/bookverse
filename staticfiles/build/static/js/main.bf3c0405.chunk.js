(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{10:function(e,t,a){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd",Image:"App_Image__3UPXw",Alert:"App_Alert__3Zd3X"}},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),s=a.n(c),o=(a(86),a(10)),i=a.n(o),l=a(7),u=a(12),j=a(128),d=a(129),b=a(120),m=a(127),v=a(121),O=a.p+"static/media/logo.4cdc4e40.png",p=a(41),x=a.n(p),h=a(8),f=a.n(h),g=a(19),_=a(9),C=a(20),N=a.n(C);N.a.defaults.baseURL="/api",N.a.defaults.headers.post["Content-Type"]="multipart/form-data",N.a.defaults.withCredentials=!0;var w=N.a.create(),k=N.a.create(),y=a(16),B=a(1),F=Object(n.createContext)(),I=Object(n.createContext)(),S=function(){return Object(n.useContext)(F)},A=function(){return Object(n.useContext)(I)},L=function(e){var t=e.children,a=Object(n.useState)(null),r=Object(_.a)(a,2),c=r[0],s=r[1],o=Object(y.useHistory)(),i=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("dj-rest-auth/user/");case 3:t=e.sent,a=t.data,s(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),Object(n.useMemo)((function(){w.interceptors.request.use(function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("/dj-rest-auth/token/refresh/");case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),s((function(e){return e&&o.push("/signin"),null})),e.abrupt("return",t);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),k.interceptors.response.use((function(e){return e}),function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==(null===(a=t.response)||void 0===a?void 0:a.status)){e.next=10;break}return e.prev=1,e.next=4,N.a.post("/dj-rest-auth/token/refresh/");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),s((function(e){return e&&o.push("/signin"),null}));case 9:return e.abrupt("return",N()(t.config));case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}())}),[o]),Object(B.jsx)(F.Provider,{value:c,children:Object(B.jsx)(I.Provider,{value:s,children:t})})},R=a(79),P=a.n(R),T=function(e){var t=e.src,a=e.height,n=void 0===a?45:a,r=e.text;return Object(B.jsxs)("span",{children:[Object(B.jsx)("img",{className:P.a.Avatar,src:t,height:n,width:n,alt:"avatar"}),r]})},U=function(){var e=Object(n.useState)(!1),t=Object(_.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(e){c.current&&!c.current.contains(e.target)&&r(!1)};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[c]),{expanded:a,setExpanded:r,ref:c}},D=function(){var e=S(),t=A(),a=Object(y.useHistory)(),n=U(),r=n.expanded,c=n.setExpanded,s=n.ref,o=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("dj-rest-auth/logout/");case 3:t(null),a.push("/signin"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),i=Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(g.c,{exact:!0,activeClassName:x.a.Active,to:"/",children:[Object(B.jsx)("i",{class:"fa-solid fa-house"}),"Home"]}),Object(B.jsxs)(g.c,{activeClassName:x.a.Active,to:"/mybooks",children:[Object(B.jsx)("i",{class:"fa-solid fa-book"}),"My Books"]}),Object(B.jsxs)(g.c,{activeClassName:x.a.Active,to:"/books/create",children:[Object(B.jsx)("i",{class:"far fa-plus-square"}),"Add Book"]}),Object(B.jsx)(g.c,{activeClassName:x.a.Active,to:"/profiles/".concat(null===e||void 0===e?void 0:e.profile_id),children:Object(B.jsx)(T,{src:null===e||void 0===e?void 0:e.profile_image,text:null===e||void 0===e?void 0:e.username,height:40})}),Object(B.jsxs)(g.c,{to:"/",onClick:o,children:[Object(B.jsx)("i",{class:"fa-solid fa-right-from-bracket"}),"Sign out"]})]}),p=Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(j.a,{className:"ml-auto",children:[Object(B.jsxs)(g.c,{activeClassName:x.a.Active,to:"/signin",children:[Object(B.jsx)("i",{class:"fa-solid fa-right-to-bracket"}),"Sign in"]}),Object(B.jsxs)(g.c,{activeClassName:x.a.Active,to:"/signup",children:[Object(B.jsx)("i",{class:"fa-solid fa-user-plus"}),"Sign up"]})]})});return Object(B.jsx)(d.a,{expanded:r,expand:"md",fixed:"top",className:x.a.NavBar,children:Object(B.jsxs)(b.a,{fluid:!0,children:[Object(B.jsx)(g.c,{to:"/",children:Object(B.jsx)(d.a.Brand,{children:Object(B.jsx)("img",{src:O,alt:"logo",height:"60"})})}),Object(B.jsx)(d.a.Toggle,{ref:s,onClick:function(){return c(!r)},"aria-controls":"navbarScroll"}),Object(B.jsxs)(d.a.Collapse,{id:"navbarScroll",children:[Object(B.jsx)(j.a,{className:"mx-auto",children:Object(B.jsxs)(m.a,{className:"d-flex",children:[Object(B.jsx)(m.a.Control,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search"}),Object(B.jsx)(v.a,{className:f.a.Button,children:"Search"})]})}),Object(B.jsx)(j.a,{children:e?i:p})]})]})})},E=a(11),G=a(28),H=a(18),M=a(27),X=a.n(M),Z=a(122),Q=function(){var e,t,a,r,c=Object(n.useState)({username:"",password1:"",password2:""}),s=Object(_.a)(c,2),o=s[0],j=s[1],d=o.username,O=o.password1,p=o.password2,x=Object(n.useState)({}),h=Object(_.a)(x,2),C=h[0],w=h[1],k=Object(E.useHistory)(),y=function(e){j(Object(H.a)(Object(H.a)({},o),{},Object(G.a)({},e.target.name,e.target.value)))},F=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.a.post("/dj-rest-auth/registration/",o);case 4:k.push("/signin"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),w(null===(a=e.t0.response)||void 0===a?void 0:a.data);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsx)(b.a,{className:X.a.Container,children:Object(B.jsxs)(m.a,{className:X.a.Form,onSubmit:F,children:[Object(B.jsx)("h2",{className:"mb-4 text-center",children:"Sign Up"}),Object(B.jsxs)(m.a.Group,{controlId:"username",children:[Object(B.jsx)(m.a.Label,{className:"d-none",children:"Username"}),Object(B.jsx)(m.a.Control,{type:"text",placeholder:"Username",name:"username",className:X.a.Input,value:d,onChange:y})]}),null===(e=C.username)||void 0===e?void 0:e.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)(m.a.Group,{controlId:"password1",children:[Object(B.jsx)(m.a.Label,{className:"d-none",children:"Password"}),Object(B.jsx)(m.a.Control,{type:"password",placeholder:"Password",name:"password1",className:X.a.Input,value:O,onChange:y})]}),null===(t=C.password1)||void 0===t?void 0:t.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)(m.a.Group,{controlId:"password2",children:[Object(B.jsx)(m.a.Label,{className:"d-none",children:"Confirm Password"}),Object(B.jsx)(m.a.Control,{type:"Password",placeholder:"Confirm Password",name:"password2",className:X.a.Input,value:p,onChange:y})]}),null===(a=C.password2)||void 0===a?void 0:a.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsx)("div",{className:f.a.CenterButton,children:Object(B.jsx)(v.a,{type:"submit",className:f.a.Button,children:"Sign Up"})}),null===(r=C.non_field_errors)||void 0===r?void 0:r.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)("p",{className:"".concat(X.a.Text," mt-3"),children:["Already have an account?",Object(B.jsx)(g.b,{to:"/signin",children:"login here"})]})]})})},W=function(){var e,t,a,r=A(),c=Object(n.useState)({username:"",password:""}),s=Object(_.a)(c,2),o=s[0],j=s[1],d=o.username,O=o.password,p=Object(n.useState)({}),x=Object(_.a)(p,2),h=x[0],C=x[1],w=Object(E.useHistory)(),k=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a,n,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.a.post("/dj-rest-auth/login/",o);case 4:a=e.sent,n=a.data,r(n.user),w.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),C(null===(c=e.t0.response)||void 0===c?void 0:c.data);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){j(Object(H.a)(Object(H.a)({},o),{},Object(G.a)({},e.target.name,e.target.value)))};return Object(B.jsx)(b.a,{className:X.a.Container,children:Object(B.jsxs)(m.a,{className:X.a.Form,onSubmit:k,children:[Object(B.jsx)("h2",{className:"mb-4 text-center",children:"Sign In"}),Object(B.jsxs)(m.a.Group,{controlId:"username",children:[Object(B.jsx)(m.a.Label,{className:"d-none",children:"Username"}),Object(B.jsx)(m.a.Control,{type:"text",placeholder:"Username",name:"username",className:X.a.Input,value:d,onChange:y})]}),null===(e=h.username)||void 0===e?void 0:e.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)(m.a.Group,{controlId:"password",children:[Object(B.jsx)(m.a.Label,{className:"d-none",children:"Password"}),Object(B.jsx)(m.a.Control,{type:"password",placeholder:"Password",name:"password",className:X.a.Input,value:O,onChange:y})]}),null===(t=h.password)||void 0===t?void 0:t.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsx)("div",{className:f.a.CenterButton,children:Object(B.jsx)(v.a,{type:"submit",className:f.a.Button,children:"Sign In"})}),null===(a=h.non_field_errors)||void 0===a?void 0:a.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)("p",{className:"".concat(X.a.Text," mt-3"),children:["Don't have an account?",Object(B.jsx)(g.b,{to:"/signup",children:"Register here"})]})]})})},q=a(14),z=a.n(q);var J=function(){var e,t,a,r,c,s=Object(n.useState)({}),o=Object(_.a)(s,2),j=o[0],d=o[1],b=Object(n.useState)({title:"",author:"",summary:"",genre:"",coverImage:""}),O=Object(_.a)(b,2),p=O[0],x=O[1],h=p.title,g=p.author,C=p.summary,N=p.genre,k=p.coverImage,F=Object(n.useRef)(null),I=Object(y.useHistory)(),S=function(e){x(Object(H.a)(Object(H.a)({},p),{},Object(G.a)({},e.target.name,e.target.value)))},A=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a,n,r,c,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("title",h),a.append("author",g),a.append("summary",C),a.append("genre",N),a.append("cover_image",F.current.files[0]),e.prev=7,e.next=10,w.post("/books/",a);case 10:n=e.sent,r=n.data,I.push("/books/".concat(r.id)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),console.log(e.t0),401!==(null===(c=e.t0.response)||void 0===c?void 0:c.status)&&d(null===(s=e.t0.response)||void 0===s?void 0:s.data);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)(m.a,{className:z.a.Form,onSubmit:A,children:[Object(B.jsxs)(m.a.Group,{controlId:"title",children:[Object(B.jsx)(m.a.Label,{className:z.a.FormLabel,children:"Title"}),Object(B.jsx)(m.a.Control,{className:z.a.FormControl,type:"text",name:"title",value:h,onChange:S})]}),null===j||void 0===j||null===(e=j.title)||void 0===e?void 0:e.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)(m.a.Group,{controlId:"author",children:[Object(B.jsx)(m.a.Label,{className:z.a.FormLabel,children:"Author"}),Object(B.jsx)(m.a.Control,{className:z.a.FormControl,type:"text",name:"author",value:g,onChange:S})]}),null===j||void 0===j||null===(t=j.author)||void 0===t?void 0:t.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)(m.a.Group,{controlId:"genre",children:[Object(B.jsx)(m.a.Label,{className:z.a.FormLabel,children:"Genre"}),Object(B.jsx)(m.a.Control,{className:z.a.FormControl,type:"text",name:"genre",value:N,onChange:S})]}),null===j||void 0===j||null===(a=j.genre)||void 0===a?void 0:a.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)(m.a.Group,{controlId:"summary",children:[Object(B.jsx)(m.a.Label,{className:z.a.FormLabel,children:"Summary"}),Object(B.jsx)(m.a.Control,{className:z.a.FormControl,as:"textarea",name:"summary",value:C,onChange:S})]}),null===j||void 0===j||null===(r=j.summary)||void 0===r?void 0:r.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)(m.a.Group,{controlId:"cover_image",children:[Object(B.jsx)(m.a.Label,{className:z.a.FormLabel,children:"Cover Image"}),Object(B.jsx)(m.a.File,{name:"cover_image",accept:"image/*",onChange:function(e){e.target.files.length&&(URL.revokeObjectURL(k),x(Object(H.a)(Object(H.a)({},p),{},{coverImage:URL.createObjectURL(e.target.files[0])})))},ref:F})]}),null===j||void 0===j||null===(c=j.coverImage)||void 0===c?void 0:c.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)("div",{className:f.a.CenterButton,children:[Object(B.jsx)(v.a,{className:f.a.Danger,onClick:function(){return I.goBack()},children:"Cancel"}),Object(B.jsx)(v.a,{className:f.a.Button,type:"Submit",children:"Submit"})]})]})},V=a(124),Y=a(80),K=a(130),$=a(51),ee=a.n($);var te=function(e){var t=e.bookId,a=Object(y.useHistory)();return Object(B.jsx)(v.a,{className:f.a.Button,onClick:function(){a.push("/reviews/book/".concat(t))},children:"Review This Book"})},ae=a(42),ne=a.n(ae),re=a(125),ce=a(123),se=a(81),oe=a(68),ie=a.n(oe),le=function(e){e.value;var t=e.onChange,a=Array(5).fill(0);return Object(B.jsx)("div",{className:ie.a.StarRating,children:a.map((function(e,a){return Object(B.jsx)(se.a,{className:ie.a.Star,onClick:function(){return t(a+1)}},a)}))})},ue=function(e){var t=e.id,a=e.owner,n=e.review_text,r=e.rating,c=(e.book,e.created_at,e.updated_at,e.profile_image),s=e.profile_id,o=e.like_id,i=e.likes_count,l=e.comments_count,u=S(),j=(null===u||void 0===u?void 0:u.username)===a;return Object(B.jsxs)("div",{className:ne.a.Review,children:[Object(B.jsxs)("div",{className:ne.a.ReviewUser,children:[Object(B.jsxs)(y.Link,{to:"/profiles/".concat(s),children:[Object(B.jsx)(T,{src:c,height:55}),a]}),Object(B.jsx)(v.a,{className:f.a.Button,children:"follow"})]}),Object(B.jsxs)("div",{className:ne.a.Details,children:[Object(B.jsx)(le,{rating:r}),Object(B.jsx)("div",{className:ne.a.ReviewContent,children:n}),Object(B.jsxs)("div",{className:ne.a.Actions,children:[j?Object(B.jsx)(re.a,{placement:"top",overlay:Object(B.jsx)(ce.a,{children:"You can't like your own post!"}),children:Object(B.jsx)("i",{className:"fa fa-heart"})}):o?Object(B.jsx)("span",{onClick:function(){},children:Object(B.jsx)("i",{className:"fa fa-heart ".concat(ne.a.Heart)})}):u?Object(B.jsx)("span",{onClick:function(){},children:Object(B.jsx)("i",{className:"fa fa-heart ".concat(ne.a.HeartOutline)})}):Object(B.jsx)(re.a,{placement:"top",overlay:Object(B.jsx)(ce.a,{children:"Log in to like posts!"}),children:Object(B.jsx)("i",{className:"fa fa-heart"})}),i,Object(B.jsx)(y.Link,{to:"/reviews/".concat(t),children:Object(B.jsx)("i",{className:"far fa-comments"})}),l]})]})]})};var je=function(){var e=Object(E.useParams)().id,t=Object(n.useState)({}),a=Object(_.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(u.a)(Object(l.a)().mark((function t(){var a;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.get("/books/".concat(e));case 3:a=t.sent,c(a.data),console.log(a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(B.jsx)(b.a,{className:ee.a.Container,children:r&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(V.a,{children:[Object(B.jsxs)(Y.a,{children:[Object(B.jsx)(K.a,{className:ee.a.Image,children:Object(B.jsx)("img",{src:r.cover_image,alt:r.title,fluid:!0})}),Object(B.jsx)("div",{children:"Number of Reviews"}),Object(B.jsx)(te,{bookId:r.id})]}),Object(B.jsxs)(Y.a,{xs:12,md:8,children:[Object(B.jsxs)("div",{className:ee.a.BookInfo,children:[Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{className:ee.a.Title,children:r.title}),Object(B.jsxs)("div",{className:"mb-2 text-muted",children:["by ",r.author]})]}),Object(B.jsxs)("div",{children:["5 star review",Object(B.jsx)("span",{children:"Average rating"})]}),Object(B.jsx)("div",{children:"Save book Icon"})]}),Object(B.jsx)(K.a.Text,{className:ee.a.Summary,children:r.summary})]})]}),Object(B.jsx)(V.a,{}),Object(B.jsx)(V.a,{children:Object(B.jsx)(ue,{})})]})})},de=a(32),be=a.n(de),me=a(126),ve=function(e){var t=e.show,a=e.handleClose,n=e.handleConfirm;e.itemName;return Object(B.jsxs)(me.a,{show:t,onHide:a,children:[Object(B.jsx)(me.a.Header,{closeButton:!0,children:Object(B.jsx)(me.a.Title,{children:"Confirm Delete"})}),Object(B.jsx)(me.a.Body,{children:"Are you sure you want to delete this item?"}),Object(B.jsxs)(me.a.Footer,{children:[Object(B.jsx)(v.a,{className:f.a.Button,onClick:a,children:"Cancel"}),Object(B.jsx)(v.a,{className:f.a.Danger,onClick:n,children:"Delete"})]})]})},Oe=function(){var e=Object(n.useState)([]),t=Object(_.a)(e,2),a=t[0],r=t[1],c=Object(y.useHistory)(),s=Object(n.useState)(!1),o=Object(_.a)(s,2),i=o[0],j=o[1],d=Object(n.useState)(null),m=Object(_.a)(d,2),O=m[0],p=m[1],x=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=11;break}return e.prev=1,e.next=4,w.delete("/books/".concat(O,"/"));case 4:c.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:j(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/books/");case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(B.jsxs)(b.a,{className:be.a.Container,children:[Object(B.jsx)(V.a,{xs:1,md:3,lg:4,children:a.map((function(e){return Object(B.jsxs)("div",{className:be.a.BookContainer,children:[Object(B.jsx)(K.a,{className:be.a.Card,children:Object(B.jsx)(y.Link,{to:"books/".concat(e.id),className:be.a.Link,children:Object(B.jsx)(K.a.Img,{variant:"top",src:e.cover_image,alt:e.title,className:be.a.CardImage})})}),Object(B.jsx)("div",{className:be.a.Title,children:e.title}),Object(B.jsxs)("div",{className:be.a.Author,children:[" by ",e.author]}),Object(B.jsxs)("div",{className:be.a.CardBody,children:[e.is_owner&&Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("div",{className:be.a.Icons,children:[Object(B.jsx)("i",{onClick:function(){return t=e.id,void c.push("/books/".concat(t,"/edit"));var t},className:"fas fa-edit"}),Object(B.jsx)("i",{onClick:function(){return t=e.id,p(t),void j(!0);var t},className:"fas fa-trash"})]})}),Object(B.jsx)("div",{className:"text-center",children:Object(B.jsx)(v.a,{className:f.a.Button,children:"Save Book"})})]})]},e.id)}))}),Object(B.jsx)(ve,{show:i,handleClose:function(){return j(!1)},handleConfirm:x})]})};var pe=function(){var e,t,a,r,c,s=Object(n.useState)({}),o=Object(_.a)(s,2),j=o[0],d=o[1],b=Object(n.useState)({title:"",author:"",summary:"",genre:"",coverImage:""}),O=Object(_.a)(b,2),p=O[0],x=O[1],h=p.title,g=p.author,C=p.summary,N=p.genre,k=p.coverImage,F=Object(n.useRef)(null),I=Object(y.useHistory)(),S=Object(y.useParams)().id;Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,a,n,r,c,s,o;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/books/".concat(S,"/"));case 3:t=e.sent,a=t.data,console.log(a),n=a.title,r=a.author,c=a.summary,s=a.genre,o=a.coverImage,a.is_owner?x({title:n,author:r,summary:c,genre:s,coverImage:o}):I.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[I,S]);var A=function(e){x(Object(H.a)(Object(H.a)({},p),{},Object(G.a)({},e.target.name,e.target.value)))},L=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a,n,r,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("title",h),n.append("author",g),n.append("summary",C),n.append("genre",N),null!==F&&void 0!==F&&null!==(a=F.current)&&void 0!==a&&a.files[0]&&n.append("cover_image",F.current.files[0]),e.prev=7,e.next=10,w.put("/books/".concat(S),n);case 10:I.push("/books/".concat(S)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(7),console.log(e.t0),401!==(null===(r=e.t0.response)||void 0===r?void 0:r.status)&&d(null===(c=e.t0.response)||void 0===c?void 0:c.data);case 17:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)(m.a,{className:z.a.Form,onSubmit:L,children:[Object(B.jsxs)(m.a.Group,{controlId:"title",children:[Object(B.jsx)(m.a.Label,{className:z.a.FormLabel,children:"Title"}),Object(B.jsx)(m.a.Control,{className:z.a.FormControl,type:"text",name:"title",value:h,onChange:A})]}),null===j||void 0===j||null===(e=j.title)||void 0===e?void 0:e.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)(m.a.Group,{controlId:"author",children:[Object(B.jsx)(m.a.Label,{className:z.a.FormLabel,children:"Author"}),Object(B.jsx)(m.a.Control,{className:z.a.FormControl,type:"text",name:"author",value:g,onChange:A})]}),null===j||void 0===j||null===(t=j.author)||void 0===t?void 0:t.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)(m.a.Group,{controlId:"genre",children:[Object(B.jsx)(m.a.Label,{className:z.a.FormLabel,children:"Genre"}),Object(B.jsx)(m.a.Control,{className:z.a.FormControl,type:"text",name:"genre",value:N,onChange:A})]}),null===j||void 0===j||null===(a=j.genre)||void 0===a?void 0:a.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)(m.a.Group,{controlId:"summary",children:[Object(B.jsx)(m.a.Label,{className:z.a.FormLabel,children:"Summary"}),Object(B.jsx)(m.a.Control,{className:z.a.FormControl,as:"textarea",name:"summary",rows:6,value:C,onChange:A})]}),null===j||void 0===j||null===(r=j.summary)||void 0===r?void 0:r.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)(m.a.Group,{controlId:"cover_image",children:[Object(B.jsx)(m.a.Label,{className:z.a.FormLabel,children:"Cover Image"}),Object(B.jsx)(m.a.File,{name:"cover_image",accept:"image/*",onChange:function(e){e.target.files.length&&(URL.revokeObjectURL(k),x(Object(H.a)(Object(H.a)({},p),{},{coverImage:URL.createObjectURL(e.target.files[0])})))},ref:F})]}),null===j||void 0===j||null===(c=j.coverImage)||void 0===c?void 0:c.map((function(e,t){return Object(B.jsx)(Z.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(B.jsxs)("div",{className:f.a.CenterButton,children:[Object(B.jsx)(v.a,{className:f.a.Danger,onClick:function(){return I.goBack()},children:"Cancel"}),Object(B.jsx)(v.a,{className:f.a.Button,type:"Submit",children:"Save"})]})]})},xe=a(46),he=a.n(xe);var fe=function(){var e=Object(n.useState)({}),t=Object(_.a)(e,2),a=(t[0],t[1]),r=Object(y.useHistory)(),c=Object(n.useState)({review_text:"",rating:0}),s=Object(_.a)(c,2),o=s[0],i=s[1],j=o.review_text,d=o.rating,O=function(e){i(Object(H.a)(Object(H.a)({},o),{},Object(G.a)({},e.target.name,e.target.value)))},p=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,c,s,o,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("review_text",j),n.append("rating",d),e.prev=4,e.next=7,w.post("/reviews",n);case 7:c=e.sent,s=c.data,r.push("/reviews/".concat(s.id)),console.log(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),401!==(null===(o=e.t0.response)||void 0===o?void 0:o.status)&&a(null===(i=e.t0.response)||void 0===i?void 0:i.data);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)(b.a,{className:he.a.Container,children:[Object(B.jsx)("h2",{className:he.a.Title,children:"Add Review"}),Object(B.jsxs)(m.a,{className:he.a.Form,onSubmit:p,children:[Object(B.jsxs)(m.a.Group,{controlId:"review_text",className:he.a.TextArea,children:[Object(B.jsx)(m.a.Label,{className:he.a.FormLabel,hidden:!0,children:"Review Text"}),Object(B.jsx)(m.a.Control,{className:he.a.FormControl,as:"textarea",name:"review_text",placeholder:"Write your review here...",rows:6,value:j,onChange:O})]}),Object(B.jsx)(le,{value:d,onChange:O}),Object(B.jsx)(v.a,{className:f.a.Button,type:"submit",children:"Submit"})]})]})};var ge=function(){return Object(B.jsxs)("div",{className:i.a.App,children:[Object(B.jsx)(D,{}),Object(B.jsx)(b.a,{className:i.a.Main,children:Object(B.jsxs)(E.Switch,{children:[Object(B.jsx)(E.Route,{exact:!0,path:"/",render:function(){return Object(B.jsx)(Oe,{})}}),Object(B.jsx)(E.Route,{exact:!0,path:"/mybooks",render:function(){return Object(B.jsx)("h1",{children:"My Books"})}}),Object(B.jsx)(E.Route,{exact:!0,path:"/signin",render:function(){return Object(B.jsx)(W,{})}}),Object(B.jsx)(E.Route,{exact:!0,path:"/signup",render:function(){return Object(B.jsx)(Q,{})}}),Object(B.jsx)(E.Route,{exact:!0,path:"/books/create",render:function(){return Object(B.jsx)(J,{})}}),Object(B.jsx)(E.Route,{exact:!0,path:"/books/:id/edit",render:function(){return Object(B.jsx)(pe,{})}}),Object(B.jsx)(E.Route,{exact:!0,path:"/books/:id",render:function(){return Object(B.jsx)(je,{})}}),Object(B.jsx)(E.Route,{exact:!0,path:"/reviews/book/:id",render:function(){return Object(B.jsx)(fe,{})}}),Object(B.jsx)(E.Route,{render:function(){return Object(B.jsx)("p",{children:"404 Page not found"})}})]})})]})},_e=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,131)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(B.jsx)(r.a.StrictMode,{children:Object(B.jsx)(g.a,{children:Object(B.jsx)(L,{children:Object(B.jsx)(ge,{})})})}),document.getElementById("root")),_e()},14:function(e,t,a){e.exports={Form:"BookCreatEditForm_Form__33sLC",FormLabel:"BookCreatEditForm_FormLabel__37RT1",FormControl:"BookCreatEditForm_FormControl__1KQQE"}},27:function(e,t,a){e.exports={Input:"SignInUpForm_Input__3xaLZ",Container:"SignInUpForm_Container__2cuBp",Form:"SignInUpForm_Form__2ZPJ4",Text:"SignInUpForm_Text__-5VQs"}},32:function(e,t,a){e.exports={Container:"Books_Container__2u6pX",BookContainer:"Books_BookContainer__2qDqH",Card:"Books_Card__RegGZ",CardImage:"Books_CardImage__Tvfn3",Title:"Books_Title__2G7b0",CardBody:"Books_CardBody__28XOv",Link:"Books_Link__1MT5O",Icons:"Books_Icons__i8XQX",Author:"Books_Author__7exuf"}},41:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",Active:"NavBar_Active__3PBZb"}},42:function(e,t,a){e.exports={Review:"Reviews_Review__3LEPb",ReviewUser:"Reviews_ReviewUser__1CdcP",Details:"Reviews_Details__2wyF9",ReviewContent:"Reviews_ReviewContent__3U0nR",Actions:"Reviews_Actions__w6in0"}},46:function(e,t,a){e.exports={Container:"ReviewCreateEditForm_Container__2L1zP",Title:"ReviewCreateEditForm_Title__2W9oR",Form:"ReviewCreateEditForm_Form__2pDLW",TextArea:"ReviewCreateEditForm_TextArea__2RY8z",FormControl:"ReviewCreateEditForm_FormControl__BgeXk"}},51:function(e,t,a){e.exports={Container:"BookPage_Container__2sPwj",BookInfo:"BookPage_BookInfo__3WSl-",Image:"BookPage_Image__2IVtk",Title:"BookPage_Title__1PBok",Author:"BookPage_Author__1vzP_",Summary:"BookPage_Summary__m844-"}},68:function(e,t,a){e.exports={StarRating:"StarRating_StarRating__37A4j",Star:"StarRating_Star__2E3LE"}},79:function(e,t,a){e.exports={Avatar:"Avatar_Avatar__196lW"}},8:function(e,t,a){e.exports={Button:"Button_Button__27i9m",CenterButton:"Button_CenterButton__3iPlz",Danger:"Button_Danger__LnRwy"}},86:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.bf3c0405.chunk.js.map