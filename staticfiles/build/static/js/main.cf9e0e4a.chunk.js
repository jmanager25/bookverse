(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{13:function(e,a,n){e.exports={Input:"SignInUpForm_Input__3xaLZ",Container:"SignInUpForm_Container__2cuBp",Form:"SignInUpForm_Form__2ZPJ4",Text:"SignInUpForm_Text__-5VQs"}},33:function(e,a,n){},41:function(e,a,n){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd"}},51:function(e,a,n){},60:function(e,a,n){},90:function(e,a,n){"use strict";n.r(a);var t=n(0),s=n.n(t),c=n(23),r=n.n(c),o=(n(60),n(16)),i=n(24),l=n(14),j=n(41),u=n.n(j),d=n(95),b=n(96),p=n(92),x=n(94),O=n(93),h=n(51),m=n.n(h),v=n(11),f=n(2),g=function(){var e=Object(t.useContext)(L),a=Object(f.jsx)(f.Fragment,{children:null===e||void 0===e?void 0:e.username}),n=Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(d.a,{className:"ml-auto",children:[Object(f.jsxs)(v.c,{to:"/signin",children:[Object(f.jsx)("i",{class:"fa-solid fa-right-to-bracket"}),"Sign in"]}),Object(f.jsxs)(v.c,{to:"/signup",children:[Object(f.jsx)("i",{class:"fa-solid fa-user-plus"}),"Sign up"]})]})});return Object(f.jsx)(b.a,{expand:"md",fixed:"top",className:m.a.NavBar,children:Object(f.jsxs)(p.a,{fluid:!0,children:[Object(f.jsx)(v.c,{to:"/",children:Object(f.jsx)(b.a.Brand,{children:"BookVerse"})}),Object(f.jsx)(b.a.Toggle,{"aria-controls":"navbarScroll"}),Object(f.jsxs)(b.a.Collapse,{id:"navbarScroll",children:[Object(f.jsxs)(d.a,{className:"mx-auto",children:[Object(f.jsxs)(v.c,{to:"/",children:[Object(f.jsx)("i",{class:"fa-solid fa-house"}),"Home"]}),Object(f.jsxs)(v.c,{to:"/mybooks",children:[Object(f.jsx)("i",{class:"fa-solid fa-book"}),"My Books"]}),Object(f.jsxs)(x.a,{className:"d-flex",children:[Object(f.jsx)(x.a.Control,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search"}),Object(f.jsx)(O.a,{variant:"outline-success",children:"Search"}),Object(f.jsx)("i",{class:"fa-solid fa-magnifying-glass"})]})]}),Object(f.jsx)(d.a,{className:"ml-auto",children:e?a:n})]})]})})},w=n(6),N=n(28),C=n(30),S=n(13),_=n.n(S),I=n(33),y=n.n(I),k=n(97),F=n(26),P=n.n(F),B=function(){var e,a,n,s,c=Object(t.useState)({username:"",password1:"",password2:""}),r=Object(l.a)(c,2),j=r[0],u=r[1],d=j.username,b=j.password1,h=j.password2,m=Object(t.useState)({}),g=Object(l.a)(m,2),S=g[0],I=g[1],F=Object(w.f)(),B=function(e){u(Object(C.a)(Object(C.a)({},j),{},Object(N.a)({},e.target.name,e.target.value)))},U=function(){var e=Object(i.a)(Object(o.a)().mark((function e(a){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,P.a.post("api/dj-rest-auth/registration/",j);case 4:F.push("/signin"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),I(null===(n=e.t0.response)||void 0===n?void 0:n.data);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}();return Object(f.jsx)(p.a,{className:_.a.Container,children:Object(f.jsxs)(x.a,{className:_.a.Form,onSubmit:U,children:[Object(f.jsx)("h2",{className:"mb-4 text-center",children:"Sign Up"}),Object(f.jsxs)(x.a.Group,{controlId:"username",children:[Object(f.jsx)(x.a.Label,{className:"d-none",children:"Username"}),Object(f.jsx)(x.a.Control,{type:"text",placeholder:"Username",name:"username",className:_.a.Input,value:d,onChange:B})]}),null===(e=S.username)||void 0===e?void 0:e.map((function(e,a){return Object(f.jsx)(k.a,{variant:"warning",children:e},a)})),Object(f.jsxs)(x.a.Group,{controlId:"password1",children:[Object(f.jsx)(x.a.Label,{className:"d-none",children:"Password"}),Object(f.jsx)(x.a.Control,{type:"password",placeholder:"Password",name:"password1",className:_.a.Input,value:b,onChange:B})]}),null===(a=S.password1)||void 0===a?void 0:a.map((function(e,a){return Object(f.jsx)(k.a,{variant:"warning",children:e},a)})),Object(f.jsxs)(x.a.Group,{controlId:"password2",children:[Object(f.jsx)(x.a.Label,{className:"d-none",children:"Confirm Password"}),Object(f.jsx)(x.a.Control,{type:"Password",placeholder:"Confirm Password",name:"password2",className:_.a.Input,value:h,onChange:B})]}),null===(n=S.password2)||void 0===n?void 0:n.map((function(e,a){return Object(f.jsx)(k.a,{variant:"warning",children:e},a)})),Object(f.jsx)(O.a,{type:"submit",className:y.a.Button,children:"Sign Up"}),null===(s=S.non_field_errors)||void 0===s?void 0:s.map((function(e,a){return Object(f.jsx)(k.a,{variant:"warning",children:e},a)})),Object(f.jsxs)("p",{className:"".concat(_.a.Text," mt-3"),children:["Already have an account?",Object(f.jsx)(v.b,{to:"/signin",children:"login here"})]})]})})},U=function(){var e,a,n,s=Object(t.useContext)(T),c=Object(t.useState)({username:"",password:""}),r=Object(l.a)(c,2),j=r[0],u=r[1],d=j.username,b=j.password,h=Object(t.useState)({}),m=Object(l.a)(h,2),g=m[0],S=m[1],I=Object(w.f)(),F=function(){var e=Object(i.a)(Object(o.a)().mark((function e(a){var n,t,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,P.a.post("api/dj-rest-auth/login/",j);case 4:n=e.sent,t=n.data,s(t.user),I.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),S(null===(c=e.t0.response)||void 0===c?void 0:c.data);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),B=function(e){u(Object(C.a)(Object(C.a)({},j),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(f.jsx)(p.a,{className:_.a.Container,children:Object(f.jsxs)(x.a,{className:_.a.Form,onSubmit:F,children:[Object(f.jsx)("h2",{className:"mb-4 text-center",children:"Sign In"}),Object(f.jsxs)(x.a.Group,{controlId:"username",children:[Object(f.jsx)(x.a.Label,{className:"d-none",children:"Username"}),Object(f.jsx)(x.a.Control,{type:"text",placeholder:"Username",name:"username",className:_.a.Input,value:d,onChange:B})]}),null===(e=g.username)||void 0===e?void 0:e.map((function(e,a){return Object(f.jsx)(k.a,{variant:"warning",children:e},a)})),Object(f.jsxs)(x.a.Group,{controlId:"password",children:[Object(f.jsx)(x.a.Label,{className:"d-none",children:"Password"}),Object(f.jsx)(x.a.Control,{type:"password",placeholder:"Password",name:"password",className:_.a.Input,value:b,onChange:B})]}),null===(a=g.password)||void 0===a?void 0:a.map((function(e,a){return Object(f.jsx)(k.a,{variant:"warning",children:e},a)})),Object(f.jsx)(O.a,{type:"submit",className:y.a.Button,children:"Sign In"}),null===(n=g.non_field_errors)||void 0===n?void 0:n.map((function(e,a){return Object(f.jsx)(k.a,{variant:"warning",children:e},a)})),Object(f.jsxs)("p",{className:"".concat(_.a.Text," mt-3"),children:["Don't have an account?",Object(f.jsx)(v.b,{to:"/signup",children:"Register here"})]})]})})},L=Object(t.createContext)(),T=Object(t.createContext)();var A=function(){var e=Object(t.useState)(null),a=Object(l.a)(e,2),n=a[0],s=a[1],c=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var a,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("dj-rest-auth/user/");case 3:a=e.sent,n=a.data,s(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(t.useEffect)((function(){c()}),[]),Object(f.jsx)(L.Provider,{value:n,children:Object(f.jsx)(T.Provider,{value:s,children:Object(f.jsxs)("div",{className:u.a.App,children:[Object(f.jsx)(g,{}),Object(f.jsx)(p.a,{className:u.a.Main,children:Object(f.jsxs)(w.c,{children:[Object(f.jsx)(w.a,{exact:!0,path:"/",render:function(){return Object(f.jsx)("h1",{children:"Home page"})}}),Object(f.jsx)(w.a,{exact:!0,path:"/mybooks",render:function(){return Object(f.jsx)("h1",{children:"My Books"})}}),Object(f.jsx)(w.a,{exact:!0,path:"/signin",render:function(){return Object(f.jsx)("h1",{children:Object(f.jsx)(U,{})})}}),Object(f.jsx)(w.a,{exact:!0,path:"/signup",render:function(){return Object(f.jsx)("h1",{children:Object(f.jsx)(B,{})})}}),Object(f.jsx)(w.a,{render:function(){return Object(f.jsx)("p",{children:"404 Page not found"})}})]})})]})})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(a){var n=a.getCLS,t=a.getFID,s=a.getFCP,c=a.getLCP,r=a.getTTFB;n(e),t(e),s(e),c(e),r(e)}))};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(v.a,{children:Object(f.jsx)(A,{})})}),document.getElementById("root")),M()}},[[90,1,2]]]);
//# sourceMappingURL=main.cf9e0e4a.chunk.js.map